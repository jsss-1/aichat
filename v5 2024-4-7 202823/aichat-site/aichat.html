<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>AI对话</title>
		<link rel="icon" href="#">
		<link rel="stylesheet" href="./aichat/css/tag.css">
		<link rel="stylesheet" href="./aichat/css/top.css">
		<link rel="stylesheet" href="./aichat/css/style.css">
		<link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="./css/common.css">

		<style>
			.navbar {
				margin: 0;
				padding: 0;
			}

		</style>
	</head>

	<body>
		<script>
			function scrollToLastMessage() {
				// 找到消息容器
				var messageContainer = document.querySelector(".message-container");
				
				// 找到消息容器中最后一个子元素
				var lastMessage = messageContainer.lastElementChild;
				
				// 将最后一个消息元素滚动到可见区域
				lastMessage.scrollIntoView({ behavior: 'auto', block: 'end' });
			}

			function onLoad() {
				setTimeout(scrollToLastMessage, 100); // 添加100毫秒的延迟
			}

			window.addEventListener('load', onLoad);
			
		</script>
		
		<nav class="navbar navbar-default">
			<div class="container-fluid">
			  <div class="navbar-header">
				<a class="navbar-brand" href="#" target="_blank">AI对话</a>
			  </div>
			  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav">
				  <li><a href="home.html">首页</a></li>
				  <li><a href="register.html" id="register">个人注册</a></li>
				  <li><a href="login.html" id="login">账户登录</a></li>
				  <li><a href="center.html" id="center">个人中心</a></li>
				  <li class="active"><a href="javascript:void(0);">AI聊天<span class="sr-only">(current)</span></a></li>
				</ul>
				<ul class="nav navbar-nav navbar-right" id="user-info">
					<li class="dropdown">
					  <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="user-name"></i> <span class="caret"></span></a>
					  <ul class="dropdown-menu">
						<li><a href="javascript:void(0);" id="btn-logout">注销</a></li>
					  </ul>
					</li>            
				  </ul>
			  </div>
			</div>
		</nav>

		<div class="top">
			<div class="button-container">
				
				<button class="add-button">添加新对话</button>
				<img class="icon-btn search-btn" onclick="showSearchBox()">
			
				<img class="icon-btn add-btn" onclick="addTag()">
				<input class="search-button" id="search-input" onkeyup="tagSearch()" placeholder="搜索" style="width: 120px; text-align: left;">
	

			</div>

			<div class="tag-info">
				<div class="info" id="tagName"></div>
			</div>
		</div>

		<div class="chat-container">
		
			<div class="sidebar">
				
				<div class="tag-list">

				</div>

			</div>

			<div class="content">

				<div class="message-container">

					<!-- 用户消息和ChatGPT消息显示部分 -->
					<div class="conversation-list">
	
					</div>
	
				</div>
	
	
				<div class="send-message-container">
					<button id="stopButton">终止生成</button>
					<form action="#" method="post">
						<div class="form-container">
							<textarea id="messageInput" placeholder="问我任何问题...(Shift + Enter 换行，按下Enter 发送)"></textarea>
						</div>
					</form>
				</div>
	
			</div>


		</div>


		<style>
			.edit-block {
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: 300px;
				background-color: #fff;
				border: 1px solid #ccc;
				padding: 10px;
			}
			.header {
				text-align: left;
			}
			.footer {
				text-align: right;
			}
		</style>
		

		<!-- 编辑界面块 -->
		<div id="editBlock" class="edit-block">
			<div class="header">
				<h5>编辑</h5>
			</div>
			<div class="content">
				<input type="text" id="newName" value="原name">
			</div>
			<div class="footer">
				<button id="cancelBtn">取消</button>
				<button id="saveBtn">保存</button>
			</div>
		</div>

	</body>


	<script src="./bootstrap/js/jquery-3.5.1.min.js"></script>
	<script src="./bootstrap/js/bootstrap.min.js"></script>
	<script src="./js/common.js"></script>
	<script src="./js/user.js"></script>
	<script src="./aichat/js/tag.js"></script>
	<script src="./aichat/js/chat.js"></script>
	<script src="./aichat/js/textarea.js"></script>
	<script src="./aichat/js/search.js"></script>
	<script src="./aichat/js/chatLast.js"></script>


</html>
